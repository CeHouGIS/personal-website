---
description: Internationalization (i18n) and content localization guidelines
globs: "src/**/*.ts", "src/**/*.tsx", "content/**/*.mdx"
---

# Internationalization Guidelines

This project uses path-based i18n with separate English and Chinese routes.

## Routing & Content
- English content lives under `/en` app routes; Chinese content under `/zh`.
- Blog posts:
  - English MDX: [content/](mdc:content)
  - Chinese MDX: [content/zh/](mdc:content/zh)
- Pages and layouts:
  - English: [src/app/en/](mdc:src/app/en)
  - Chinese: [src/app/zh/](mdc:src/app/zh)
- Data structure: [src/data.tsx](mdc:src/data.tsx) contains both English and Chinese data

## Language Toggle
- Use the language toggle component to switch locales without leaking route state:
  - [src/components/blocks/navbar/language-toggle.tsx](mdc:src/components/blocks/navbar/language-toggle.tsx)

## Slugs & Canonicals
- For localized blog posts, keep matching slugs between languages when possible.
- Ensure canonical and `alternate` language links are set by each page's metadata where applicable.

## Do Not Include Personal Data
- Avoid embedding any personal information or secrets in localized content or configuration.

## Testing
- Verify both `/en` and `/zh` routes render correctly for new pages.
- Keep image and asset paths locale-agnostic where possible (assets in [public/](mdc:public)).
- Test language toggle functionality in [src/components/blocks/navbar/language-toggle.tsx](mdc:src/components/blocks/navbar/language-toggle.tsx).

